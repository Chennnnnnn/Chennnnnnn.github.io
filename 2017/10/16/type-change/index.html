<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>js的类型转换 | Chennnn</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">js的类型转换</h1><a id="logo" href="/.">Chennnn</a><p class="description">在安静中，不慌不忙地坚强</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 主页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">js的类型转换</h1><div class="post-meta">Oct 16, 2017<span> | </span><span class="category"><a href="/categories/js/">js</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span></div><div class="clear"><div id="toc" class="toc-article"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#类型转换的规则"><span class="toc-number">1.</span> <span class="toc-text">类型转换的规则</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#转换成字符串"><span class="toc-number">1.1.</span> <span class="toc-text">转换成字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#转换成数字"><span class="toc-number">1.2.</span> <span class="toc-text">转换成数字</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#转换成布尔值"><span class="toc-number">1.3.</span> <span class="toc-text">转换成布尔值</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#类型转换的方法"><span class="toc-number">2.</span> <span class="toc-text">类型转换的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#字符串"><span class="toc-number">2.1.</span> <span class="toc-text">字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#数字"><span class="toc-number">2.2.</span> <span class="toc-text">数字</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#布尔值"><span class="toc-number">2.3.</span> <span class="toc-text">布尔值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ES6的符号类型"><span class="toc-number">2.4.</span> <span class="toc-text">ES6的符号类型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#的类型转换"><span class="toc-number">3.</span> <span class="toc-text">== 的类型转换</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#字符串和数字"><span class="toc-number">3.1.</span> <span class="toc-text">字符串和数字</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#其他类型与布尔型"><span class="toc-number">3.2.</span> <span class="toc-text">其他类型与布尔型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#null和undefined"><span class="toc-number">3.3.</span> <span class="toc-text">null和undefined</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#对象与非对象"><span class="toc-number">3.4.</span> <span class="toc-text">对象与非对象</span></a></li></ol></li></ol></div></div><div class="post-content"><p>在介绍类型转换之前，有必要先了解一下字符串、数字和布尔值之间类型转换的规则</p>
<h2 id="类型转换的规则"><a href="#类型转换的规则" class="headerlink" title="类型转换的规则"></a>类型转换的规则</h2><h3 id="转换成字符串"><a href="#转换成字符串" class="headerlink" title="转换成字符串"></a>转换成字符串</h3><p>对于基本类型</p>
<ol>
<li>null转换为”null”</li>
<li>undefined转换为”undefined”</li>
<li>数字转换成相应的字符串，而极小值或极大值会使用指数形式</li>
<li>true 转换为 “true”,false 转换为 “false”</li>
</ol>
<p>对于引用类型</p>
<ol>
<li>普通对象，会转换成”[object Object]”；</li>
<li><p>如果对象有自己的toString()方法，转换成字符串时会调用该方法并使用其返回值。例如数组的默认toString()方法经过重新定义，将所有单元字符串化以后再用”,”连接起来</p>
<p>注：使用JSON.stringify()将JSON对象序列化为字符串也有转换成字符串的步骤，但它并不是返回”[object Object]”，而是对象序列化后的字符串”{“name”:”Chennnnnnn”}” </p>
</li>
</ol>
<h3 id="转换成数字"><a href="#转换成数字" class="headerlink" title="转换成数字"></a>转换成数字</h3><p> 对于基本类型</p>
<ol>
<li>将true转为1，false转换为0，</li>
<li>undefined转换为NaN，</li>
<li>null转换为0</li>
<li>对字符串处理不同方法会返回不同的结果（见下文），失败时返回NaN；以0开头的十六进制数的字符串并不按十六进制处理，而是按十进制</li>
</ol>
<p>对于引用类型</p>
<ol>
<li>对象会首先被转换为相应的基本类型值，如果返回的是非数字的基本类型值，则在遵循以上规则将其强制转换为数字</li>
<li>为了将只转换为相应的基本类型值，会首先检查该值是否是valueOf()方法，如果有并且返回基本类型值，就使用该值进行强制转换。如果没有，就使用toString的返回值来进行强制类型转换，如果valueOf()和toString()均不返回基本类型，会产生TyperError</li>
</ol>
<p>注：从 ES5 开始，使用Object.create(null)创建的对象[[Prototype]]属性为 null，并且没有valueOf()和toString()方法，因此无法进行强制类型转换。</p>
<h3 id="转换成布尔值"><a href="#转换成布尔值" class="headerlink" title="转换成布尔值"></a>转换成布尔值</h3><p>假值（转换为0）</p>
<ul>
<li>undefined</li>
<li>null</li>
<li>false</li>
<li>+0，-0和NaN</li>
<li>“”</li>
<li>浏览器在某些特定的情况下，在常规JavaScript语法基础上自己创建了一些外来值，这些就是“假值对象”，它们与普通对象并无二致，但是转为布尔值是false。例如document.all</li>
</ul>
<p>真值</p>
<ul>
<li>[]</li>
<li>{}</li>
<li>function(){}</li>
<li>一般来说，除了假值，其他都是真值</li>
</ul>
<h2 id="类型转换的方法"><a href="#类型转换的方法" class="headerlink" title="类型转换的方法"></a>类型转换的方法</h2><h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><ul>
<li>String()</li>
<li>toString()</li>
<li>+运算符:如果其中一个操作数是字符串，则执行字符串拼接，否值执行数字加法</li>
</ul>
<p>注：一般将对象转换成字符串是希望将键值保存，这时候就可以使用JSON.stringfiy()</p>
<p><strong>String()&amp;toString()</strong></p>
<p>String()可以将null和undefined转换为字符串，但是没法转进制字符串<br>.toString()可以将所有的的数据都转换为字符串，但是要排除null 和 undefined</p>
<p><strong>+运算符</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = <span class="string">"42"</span>;</div><div class="line"><span class="keyword">var</span> b = <span class="number">3</span>;</div><div class="line"></div><div class="line">a + b;  <span class="comment">//"423"</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> c = [<span class="number">1</span>,<span class="number">2</span>];</div><div class="line"><span class="keyword">var</span> d = [<span class="number">3</span>,<span class="number">4</span>];</div><div class="line"></div><div class="line">c + d;  <span class="comment">//"1,23,4"</span></div></pre></td></tr></table></figure>
<p>可以使用+运算符来将数字转为字符串，不过这跟String()还是有点区别，a+””会对a调用valueOf()方法，然后通过<code>ToString抽象操作</code>将返回值转换为字符串，而String()是直接调用ToString()</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = &#123;</div><div class="line">    valueOf: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">42</span>;</div><div class="line">    &#125;,</div><div class="line">    toString: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">4</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">a + <span class="string">""</span>;  <span class="comment">//42</span></div><div class="line"></div><div class="line"><span class="built_in">String</span>(a); <span class="comment">//"4"</span></div></pre></td></tr></table></figure>
<h3 id="数字"><a href="#数字" class="headerlink" title="数字"></a>数字</h3><ul>
<li>Number()</li>
<li>parseInt()和parseFloat()</li>
<li>+运算符</li>
<li>~运算符</li>
<li>使用-，*，/运算符，会将字符串强制转换为数字 </li>
</ul>
<p><strong>Number() &amp; parseInt()</strong></p>
<p>Number()和parseInt()的返回结果都是数字，但解析和转换两者之间还是有明显差别的</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = <span class="string">"42"</span>;</div><div class="line"><span class="keyword">var</span> b = <span class="string">"42px"</span>;</div><div class="line"></div><div class="line"><span class="comment">//解析允许字符串中含有非数字字符,按从左到右的顺序,如果遇到非数字字符就停止</span></div><div class="line"><span class="comment">//parseInt()是针对字符串的，传入其他值的参数会首先被强制类型转换为字符串（全局函数）</span></div><div class="line"><span class="built_in">parseInt</span>(a); <span class="comment">//42</span></div><div class="line"><span class="built_in">parseInt</span>(b); <span class="comment">//42</span></div><div class="line"></div><div class="line"><span class="comment">//转换不允许出现非数字字符</span></div><div class="line"><span class="built_in">Number</span>(a); <span class="comment">//42</span></div><div class="line"><span class="built_in">Number</span>(b); <span class="comment">//NaN</span></div></pre></td></tr></table></figure>
<p>解析非字符串</p>
<p>   parseInt(1/0, 19)实际上是parseInt(“Infinity”, 19)，以19为基数，有效数字字符范围是0-9和a-i，第一个字符是“I”，以19为基数时，值为18，第二个字符“n”不是一个有效数字字符 ，解析停止<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">parseInt</span>( <span class="number">1</span>/<span class="number">0</span> , <span class="number">19</span>); <span class="comment">//18</span></div><div class="line"></div><div class="line"><span class="built_in">parseInt</span>( <span class="number">0.000008</span>);  <span class="comment">//0</span></div><div class="line"><span class="built_in">parseInt</span>( <span class="number">0.0000008</span>); <span class="comment">//8  “8e-7”</span></div><div class="line"><span class="built_in">parseInt</span>( <span class="literal">false</span>, <span class="number">16</span>); <span class="comment">//250  强制转换成“false”</span></div><div class="line"><span class="built_in">parseInt</span>( <span class="built_in">parseInt</span>  ,<span class="number">16</span>); <span class="comment">// 15  function 开头</span></div><div class="line"></div><div class="line"><span class="built_in">parseInt</span>(<span class="string">"0x10"</span>);  <span class="comment">//16  十六进制</span></div><div class="line"><span class="built_in">parseInt</span>(<span class="string">"103"</span>,<span class="number">2</span>);   <span class="comment">//2  二进制，解析到3时结束， 10</span></div></pre></td></tr></table></figure></p>
<p><strong>+运算符</strong></p>
<p>用+运算符获取时间戳</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line"><span class="comment">//返回一个时间戳，以微秒为单位</span></div><div class="line">+a;</div><div class="line"></div><div class="line"><span class="keyword">var</span> b = +<span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line"></div><div class="line"><span class="comment">//js的一处奇特的语法，即构造函数没有参加是可以不用带(),作为了解，不推荐使用</span></div><div class="line"><span class="keyword">var</span> c = +<span class="keyword">new</span> <span class="built_in">Date</span>;</div><div class="line"></div><div class="line"><span class="comment">//不过一般可以不使用强制类型转换来获取时间戳</span></div><div class="line"><span class="keyword">var</span> t = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime()</div><div class="line"><span class="keyword">var</span> t = (<span class="keyword">new</span> <span class="built_in">Date</span>()).getTime();</div><div class="line"><span class="keyword">var</span> t = (<span class="keyword">new</span> <span class="built_in">Date</span>).getTime();</div><div class="line"></div><div class="line"><span class="keyword">var</span> t = <span class="built_in">Date</span>.now()</div></pre></td></tr></table></figure>
<p><strong>~运算符</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = <span class="string">"324"</span>;</div><div class="line">~~a <span class="comment">//324</span></div></pre></td></tr></table></figure>
<p>其他用法：</p>
<ul>
<li>字位运算符只适用于32位整数，运算符会强制操作数只用32位格式</li>
<li><code>~~</code>将32位整数反转再反转。注意，对负数的处理与Math.floor()不同</li>
<li><code>|</code> 也可以将值截除为一个32位的整数，不过如果对于运算符优先级，优先选择 <code>~~</code></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Math</span>.floor(<span class="number">-49.6</span>);  <span class="comment">//-50</span></div><div class="line">~~<span class="number">-49.6</span> <span class="comment">//-49</span></div><div class="line"></div><div class="line">~~<span class="number">1000.9</span> / <span class="number">10</span>;  </div><div class="line"><span class="number">1000.9</span> | <span class="number">0</span> / <span class="number">10</span>; </div><div class="line">(<span class="number">1000.9</span> | <span class="number">0</span>) /<span class="number">10</span>;</div></pre></td></tr></table></figure>
<ul>
<li>由于~ 会对操作数进行字位反转，<code>~x</code>大致等于 <code>-(x+1)</code>;则当~x为0时，x=-1；</li>
<li><code>-1</code>可以作为一个状态值来表示操作是否成功，则可以利用~运算符来判断</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = <span class="string">'33.33'</span></div><div class="line">~~a <span class="comment">//33,截取整数部分</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> a = <span class="string">"Hello World"</span>;</div><div class="line">~a.indexOf(<span class="string">"lo"</span>);  <span class="comment">//-4:真值，只有x为-1时，为假值</span></div><div class="line"></div><div class="line"><span class="keyword">if</span>(~a.indexOf(<span class="string">"lo"</span>))&#123;</div><div class="line">    <span class="comment">//找到匹配</span></div><div class="line">&#125;</div><div class="line">~a.indexOf(<span class="string">"ol"</span>); <span class="comment">//0，没有找到</span></div><div class="line"></div><div class="line"><span class="keyword">if</span>(!~a.indexOf(<span class="string">"pp"</span>))&#123;</div><div class="line">    <span class="comment">//没有找到匹配</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>布尔值转换为数字</strong></p>
<p>利用将布尔值转换成数字，可以判断多少个条件为真</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">onlyOne</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> sum = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="built_in">arguments</span>.length; i++) &#123;</div><div class="line">        <span class="keyword">if</span> (<span class="built_in">arguments</span>[i]) &#123;</div><div class="line">            sum += <span class="built_in">arguments</span>[i];</div><div class="line">            <span class="comment">//sum += Number(!!arguments[i]);</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> sum == <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> a = <span class="literal">true</span>;</div><div class="line"><span class="keyword">var</span> b = <span class="literal">false</span>;</div><div class="line"></div><div class="line">onlyOne(b,a);  <span class="comment">//true</span></div><div class="line">onlyOne(b, a, b, b, b);   <span class="comment">//true</span></div></pre></td></tr></table></figure>
<p>通过+运算符，可以将true转换成1，false转换成0；使用Number(!!arguments[i])可以防止传入字符串参数，使得+运算符做字符串拼接</p>
<h3 id="布尔值"><a href="#布尔值" class="headerlink" title="布尔值"></a>布尔值</h3><p> 使用Boolean()可将显式的ToBoolean强制类型转换，还可以使用 <strong>!!</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = <span class="string">"0"</span>;</div><div class="line"></div><div class="line"><span class="built_in">Boolean</span>(a); <span class="comment">//true</span></div><div class="line">!!a; <span class="comment">//true</span></div></pre></td></tr></table></figure>
<p>有一个地方可能会用到布尔值转换，在JSON序列化过程中将值强制类型转换为true或false</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = [</div><div class="line">  <span class="number">1</span>,</div><div class="line">  <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; &#125;</div><div class="line">]</div><div class="line"></div><div class="line"><span class="built_in">JSON</span>.stringify(a);</div><div class="line"></div><div class="line"><span class="built_in">JSON</span>.stringify(a, <span class="function"><span class="keyword">function</span>(<span class="params">key, val</span>)</span>&#123;</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> val == <span class="string">"function"</span>)&#123;</div><div class="line">        <span class="keyword">return</span> !!val;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">return</span> val;</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>在一些情况下，非布尔值会被强制转换为布尔值</p>
<ul>
<li>if(..)语句中的条件判断表达式</li>
<li>for(..;..;..)语句中的条件判断表达式</li>
<li>while(..)和do..while(..)循环中的条件判断表达式</li>
<li>? : 中的条件表达式</li>
<li>逻辑运算符 || 和 &amp;&amp; 左边的操作数</li>
</ul>
<p>注：与其将||和&amp;&amp;称为逻辑运算符，还不如把它们称为选择运算符，他们返回的不一定是布尔值</p>
<h3 id="ES6的符号类型"><a href="#ES6的符号类型" class="headerlink" title="ES6的符号类型"></a>ES6的符号类型</h3><p>符号不能被强制转换成为数字，但是可以装换成布尔值<br>符号可以转换成字符串，但不能用+运算符<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> s1 = <span class="built_in">Symbol</span>(<span class="string">"cool"</span>);</div><div class="line"><span class="built_in">String</span>(s1); <span class="comment">//"Symbol(cool)"</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> s2 = <span class="built_in">Symbol</span>(<span class="string">"not cool"</span>);</div><div class="line">s2 +　<span class="string">""</span>;  <span class="comment">//TypeError</span></div></pre></td></tr></table></figure></p>
<h2 id="的类型转换"><a href="#的类型转换" class="headerlink" title="== 的类型转换"></a>== 的类型转换</h2><h3 id="字符串和数字"><a href="#字符串和数字" class="headerlink" title="字符串和数字"></a>字符串和数字</h3><p>对于字符串和数字的相等比较，先将字符串转为数字再进行比较</p>
<h3 id="其他类型与布尔型"><a href="#其他类型与布尔型" class="headerlink" title="其他类型与布尔型"></a>其他类型与布尔型</h3><p> ==最容易出错的地方就是true和false与其他类型之间的比较</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = <span class="string">"42"</span>;</div><div class="line"><span class="keyword">var</span> b = <span class="literal">true</span>;</div><div class="line"></div><div class="line">a == b; <span class="comment">//false,b是布尔值，被强制转换成数字1，与42相比，返回false</span></div></pre></td></tr></table></figure>
<blockquote>
<p>如果Type(x)是布尔类型，则返回ToNumber(x) == y的结果<br>如果Type(y)是布尔类型，则返回x == ToNumber(y)的结果</p>
</blockquote>
<p> 一般建议不要使用== true，== false，产生的结果不是你所期盼的</p>
<h3 id="null和undefined"><a href="#null和undefined" class="headerlink" title="null和undefined"></a>null和undefined</h3><blockquote>
<p>如果x为null，y为undefined，则结果为true<br>如果x为undefined，y为null，则结果为true</p>
</blockquote>
<p>  即如果 == 两边是null和undefined，结果为true，也可以说，在 == 中，null和undefined是一回事，可以相互进行隐式强制类型转换</p>
<p>  null和undefined不等于其他假值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = <span class="literal">null</span>;</div><div class="line"><span class="keyword">var</span> b;</div><div class="line"></div><div class="line">a == <span class="literal">false</span>; <span class="comment">//false</span></div><div class="line">b == <span class="string">""</span>; <span class="comment">//false</span></div><div class="line">a == <span class="number">0</span>; <span class="comment">//false</span></div></pre></td></tr></table></figure>
<p>判断一个值是否是null或undefined时，可以直接使用==</p>
<h3 id="对象与非对象"><a href="#对象与非对象" class="headerlink" title="对象与非对象"></a>对象与非对象</h3><blockquote>
<p>如果 == 两边一边是字符串或数字，一边是对象，则返回ToPromitive(x) == y 的结果<br>而如果一边是布尔值，那么会先将布尔值转换为数字</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = <span class="number">42</span>;</div><div class="line"><span class="keyword">var</span> b = [<span class="number">42</span>];</div><div class="line"></div><div class="line">a == b; <span class="comment">//true</span></div></pre></td></tr></table></figure></div><div class="tags"></div><div class="post-nav"><a href="/2017/11/24/module/" class="pre">模块化</a><a href="/2017/10/06/hello-world/" class="next">开篇</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/计算机网络/">计算机网络</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/随笔/">随笔</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/前端工程化/" style="font-size: 15px;">前端工程化</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/02/10/about-async/">JavaScript的异步编程</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/01/07/abou-https/">浅析HTTPS</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/24/module/">模块化</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/16/type-change/">js的类型转换</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/06/hello-world/">开篇</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">Chennnn.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>